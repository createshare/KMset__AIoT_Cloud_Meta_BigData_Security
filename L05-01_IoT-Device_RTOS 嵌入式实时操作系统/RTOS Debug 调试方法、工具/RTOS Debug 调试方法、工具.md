# ■■■■■■■■■■■■■■■■■■■■■■

# RTOS Debug 调试方法、工具

- 调试嵌入式系统是一项重大挑战。使用 RTOS 会使调试复杂化。RTOS 可能会引入诸如优先级反转、死锁和任务抖动等问题。
- IDE 内置的调试器通常不足以调试基于 RTOS 的实时系统。

- 可以使用全新的调试技术(例如跟踪)来调试他们的系统。这些工具可以记录任务开始和结束执行的时间以及事件发生的时间，例如数据被放入消息队列或互斥锁被锁定。
- 甚至可以使用跟踪工具来验证应用程序是否按预期执行。



# ■■■■■■■■■■■■■■■■■■■■■■

# Debug 调试方法、工具

## Log 日志

- 提供日志输出功能。
- 日志严重级别由高到低依次为错误、警告、提示和调试；
- 支持静态和动态设置日志系统的过滤级别；
- 支持彩色信息输出和时间戳标记，以及用户指定 TAG 字符串。



## SystemView

- 测试/调试实时嵌入式系统的另一个非常有用的工具是 SEGGER 的 SystemView。此工具通常与 RTOS 一起工作，按时间顺序显示任务和 ISR 的执行，可以查看每个任务需要执行的时间（最小/平均/最大），任务何时就绪，每个任务实际开始执行时间，ISR 何时执行等。
- SystemView 可以帮助你发现不易发现的错误。但 SystemView 需要向目标系统添加记录 RTOS 事件和 ISR 的驻留代码(由 SEGGER 免费提供)，SystemView 还会消耗少量的 RAM 来缓存这些事件。
- SystemView 会按时间顺序显示 ISR 和任务的执行，收集运行时统计数据，如最小和最大执行时间、ISR 与任务之间的关系、CPU 负载等。

## μC/Probe

- Micrium 的 μC/Probe，这是一个通用工具，它允许开发人员在不干扰 CPU 的情况下，可视化和改变正在运行的嵌入式目标的行为。
- μC/Probe 可以用于裸机或基于 RTOS 的应用中。
- 对于基于 RTOS 的应用程序，μC/Probe 包括非侵入性的、实时内核感知以及 TCP/IP 协议栈感知功能。







![XXX](figures/XXX.jpg)



